
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo List Avanc√©e</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‚ú® Todo List Avanc√©e</h1>
            <p>Organisez vos t√¢ches avec des onglets et colonnes personnalisables</p>
            <div class="header-actions">
                <div id="userInfo" class="user-info" style="display: none;">
                    <span class="welcome-text">Bienvenue, <span id="userName"></span></span>
                </div>
                <button class="header-btn" onclick="openDataModal()" title="G√©rer les donn√©es">‚öôÔ∏è Donn√©es</button>
                <div id="authButtons" class="auth-buttons">
                    <button class="header-btn" onclick="goToLogin()" title="Se connecter">üîê Connexion</button>
                    <button class="header-btn logout-btn" onclick="logout()" title="Se d√©connecter" style="display: none;">üö™ D√©connexion</button>
                </div>
            </div>
        </div>

        <div class="tabs-container" id="tabsContainer">
            <!-- Les onglets seront g√©n√©r√©s ici -->
            <button class="add-tab-btn" onclick="openTabModal()">+ Nouvel Onglet</button>
        </div>

        <div class="tab-content" id="tabContent">
            <div class="empty-state">
                <h3>Cr√©ez votre premier onglet pour commencer !</h3>
                <p>Cliquez sur "+ Nouvel Onglet" pour d√©marrer votre organisation.</p>
            </div>
        </div>
    </div>

    <!-- Modal pour cr√©er/√©diter un onglet -->
    <div id="tabModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeTabModal()">&times;</span>
            <h2 id="tabModalTitle">Cr√©er un Onglet</h2>
            <div class="form-group">
                <label for="tabName">Nom de l'onglet :</label>
                <input type="text" id="tabName" placeholder="Ex: Cuisine, Travail, Personnel...">
            </div>
            <div class="form-group">
                <label for="tabColor">Couleur de fond de l'onglet :</label>
                <input type="color" id="tabColor" value="#ffffff">
                <div class="preset-colors">
                    <div class="color-option" style="background-color: #ffcdd2" onclick="selectPresetColor('#ffcdd2', 'tab')"></div>
                    <div class="color-option" style="background-color: #f8bbd9" onclick="selectPresetColor('#f8bbd9', 'tab')"></div>
                    <div class="color-option" style="background-color: #e1bee7" onclick="selectPresetColor('#e1bee7', 'tab')"></div>
                    <div class="color-option" style="background-color: #c5cae9" onclick="selectPresetColor('#c5cae9', 'tab')"></div>
                    <div class="color-option" style="background-color: #bbdefb" onclick="selectPresetColor('#bbdefb', 'tab')"></div>
                    <div class="color-option" style="background-color: #b2dfdb" onclick="selectPresetColor('#b2dfdb', 'tab')"></div>
                    <div class="color-option" style="background-color: #c8e6c9" onclick="selectPresetColor('#c8e6c9', 'tab')"></div>
                    <div class="color-option" style="background-color: #dcedc8" onclick="selectPresetColor('#dcedc8', 'tab')"></div>
                    <div class="color-option" style="background-color: #f0f4c3" onclick="selectPresetColor('#f0f4c3', 'tab')"></div>
                    <div class="color-option" style="background-color: #fff9c4" onclick="selectPresetColor('#fff9c4', 'tab')"></div>
                    <div class="color-option" style="background-color: #ffecb3" onclick="selectPresetColor('#ffecb3', 'tab')"></div>
                    <div class="color-option" style="background-color: #ffe0b2" onclick="selectPresetColor('#ffe0b2', 'tab')"></div>
                </div>
            </div>
            <button class="btn-primary" onclick="saveTab()">Cr√©er</button>
            <button class="btn-secondary" onclick="closeTabModal()">Annuler</button>
        </div>
    </div>

    <!-- Modal pour cr√©er/√©diter une colonne -->
    <div id="columnModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeColumnModal()">&times;</span>
            <h2 id="columnModalTitle">Cr√©er une Colonne</h2>
            <div class="form-group">
                <label for="columnName">Nom de la colonne :</label>
                <input type="text" id="columnName" placeholder="Ex: √Ä faire, En cours, Termin√©...">
            </div>
            <div class="form-group">
                <label for="columnColor">Couleur de la colonne :</label>
                <input type="color" id="columnColor" value="#f8f9fa">
                <div class="preset-colors">
                    <div class="color-option" style="background-color: #ffcdd2" onclick="selectPresetColor('#ffcdd2', 'column')"></div>
                    <div class="color-option" style="background-color: #f8bbd9" onclick="selectPresetColor('#f8bbd9', 'column')"></div>
                    <div class="color-option" style="background-color: #e1bee7" onclick="selectPresetColor('#e1bee7', 'column')"></div>
                    <div class="color-option" style="background-color: #c5cae9" onclick="selectPresetColor('#c5cae9', 'column')"></div>
                    <div class="color-option" style="background-color: #bbdefb" onclick="selectPresetColor('#bbdefb', 'column')"></div>
                    <div class="color-option" style="background-color: #b2dfdb" onclick="selectPresetColor('#b2dfdb', 'column')"></div>
                    <div class="color-option" style="background-color: #c8e6c9" onclick="selectPresetColor('#c8e6c9', 'column')"></div>
                    <div class="color-option" style="background-color: #dcedc8" onclick="selectPresetColor('#dcedc8', 'column')"></div>
                    <div class="color-option" style="background-color: #f0f4c3" onclick="selectPresetColor('#f0f4c3', 'column')"></div>
                    <div class="color-option" style="background-color: #fff9c4" onclick="selectPresetColor('#fff9c4', 'column')"></div>
                    <div class="color-option" style="background-color: #ffecb3" onclick="selectPresetColor('#ffecb3', 'column')"></div>
                    <div class="color-option" style="background-color: #ffe0b2" onclick="selectPresetColor('#ffe0b2', 'column')"></div>
                </div>
            </div>
            <button class="btn-primary" onclick="saveColumn()">Cr√©er</button>
            <button class="btn-secondary" onclick="closeColumnModal()">Annuler</button>
        </div>
    </div>

    <!-- Modal pour cr√©er/√©diter un todo -->
    <div id="todoModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeTodoModal()">&times;</span>
            <h2 id="todoModalTitle">Cr√©er un Todo</h2>
            <div class="form-group">
                <label for="todoText">Texte du todo :</label>
                <textarea id="todoText" rows="3" placeholder="D√©crivez votre t√¢che..."></textarea>
            </div>
            <div class="form-group">
                <label for="todoColor">Couleur du todo :</label>
                <input type="color" id="todoColor" value="#ffffff">
                <div class="preset-colors">
                    <div class="color-option" style="background-color: #ffffff" onclick="selectPresetColor('#ffffff', 'todo')"></div>
                    <div class="color-option" style="background-color: #fff3e0" onclick="selectPresetColor('#fff3e0', 'todo')"></div>
                    <div class="color-option" style="background-color: #f3e5f5" onclick="selectPresetColor('#f3e5f5', 'todo')"></div>
                    <div class="color-option" style="background-color: #e8f5e8" onclick="selectPresetColor('#e8f5e8', 'todo')"></div>
                    <div class="color-option" style="background-color: #e3f2fd" onclick="selectPresetColor('#e3f2fd', 'todo')"></div>
                    <div class="color-option" style="background-color: #fff8e1" onclick="selectPresetColor('#fff8e1', 'todo')"></div>
                    <div class="color-option" style="background-color: #fce4ec" onclick="selectPresetColor('#fce4ec', 'todo')"></div>
                    <div class="color-option" style="background-color: #f1f8e9" onclick="selectPresetColor('#f1f8e9', 'todo')"></div>
                    <div class="color-option" style="background-color: #ff6b6b" onclick="selectPresetColor('#ff6b6b', 'todo')"></div>
                    <div class="color-option" style="background-color: #ff8cc8" onclick="selectPresetColor('#ff8cc8', 'todo')"></div>
                    <div class="color-option" style="background-color: #a8e6cf" onclick="selectPresetColor('#a8e6cf', 'todo')"></div>
                    <div class="color-option" style="background-color: #74b9ff" onclick="selectPresetColor('#74b9ff', 'todo')"></div>
                </div>
            </div>
            <button class="btn-primary" onclick="saveTodo()">Cr√©er</button>
            <button class="btn-secondary" onclick="closeTodoModal()">Annuler</button>
        </div>
    </div>

    <!-- Modal pour g√©rer les donn√©es -->
    <div id="dataModal" class="modal">
        <div class="modal-content data-modal">
            <span class="close" onclick="closeDataModal()">&times;</span>
            <h2>Gestion des Donn√©es</h2>
            
            <div class="data-section">
                <h3>üìä Informations de Stockage</h3>
                <div id="storageInfo" class="storage-info">
                    Chargement des informations...
                </div>
            </div>

            <div class="data-section">
                <h3>üíæ Sauvegardes Automatiques</h3>
                <div id="backupsList" class="backups-list">
                    Chargement des sauvegardes...
                </div>
            </div>

            <div class="data-section">
                <h3>üì• Import / Export</h3>
                <div class="import-export-actions">
                    <button class="btn-primary" onclick="exportData()">üì§ Exporter les Donn√©es</button>
                    <div class="file-input-wrapper">
                        <input type="file" id="importFile" accept=".json" style="display: none;" onchange="handleImportFile(event)">
                        <button class="btn-secondary" onclick="document.getElementById('importFile').click()">üì• Importer des Donn√©es</button>
                    </div>
                </div>
            </div>

            <div class="data-section">
                <h3>üóëÔ∏è Actions Dangereuses</h3>
                <div class="danger-zone">
                    <button class="btn-danger" onclick="clearAllData()">üóëÔ∏è Effacer Toutes les Donn√©es</button>
                    <p class="warning-text">‚ö†Ô∏è Cette action est irr√©versible !</p>
                </div>
            </div>

            <button class="btn-secondary" onclick="closeDataModal()">Fermer</button>
        </div>
    </div>

    <script src="auth.js"></script>
    <script src="script.js"></script>
</body>
</html>